/*! data-metrics 0.5.1 (2014-02-02) | Marlos Carmo - https://github.com/marloscarmo/data-metrics | Free to use under terms of MIT license */
"use strict";!function(a){function b(){}b.prototype={init:function(){this.addEventListeners()},addEventListeners:function(){for(var a=this,b=document.querySelectorAll("*[data-metrics]"),c=0;c<b.length;c++)"FORM"!==b[c].tagName?b[c].onclick=function(b){a.appendEvent.call(a,b)}:b[c].onsubmit=function(b){a.appendEvent.call(a,b)}},appendEvent:function(a){var b=a.currentTarget;if(!b.classList.contains("sending-metrics")){var c=b.getAttribute("data-metrics").split("|");return void 0===c[1]&&(c[1]=null),void 0===c[2]&&(c[2]=null),this.sendToGA(c[0],c[1],c[2],b),b.classList.add("sending-metrics"),!1}},sendToGA:function(a,b,c,d){var e=this;window.ga("send","event",a,b,c,{hitCallback:function(){d&&e.onEventIsDispatched.call(e,d)}})},onEventIsDispatched:function(a){a.getAttribute("href")?window.location.href=a.getAttribute("href"):"FORM"===a.tagName&&a.submit(),a.classList.remove("sending-metrics")}},a.dataMetrics=new b,a.dataMetrics.init()}(this);
